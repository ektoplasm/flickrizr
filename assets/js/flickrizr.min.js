/*!
 * jQuery.Flickrizr
 * Copyright (c) 2016 Junior Herval - http://www.ekto.com.br/
 * Licensed under MIT.
 * Date: 7/15/2016
 *
 * @project Responsive and simple Flickr gallery
 * @author Junior Herval
 * @version 1.0
 *
 * @id jQuery.flickrizr
 * @param {jQuery, String} caller Object to place the gallery
 * @param {String} gallery Gallery ID or full URL
 * @param {Object} settings Hash of settings.
 *
 * @id jQuery.fn.flickrizr
 * @param {String} gallery Gallery ID or full URL
 * @param {Object} settings Hash of settings.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @example :
 *	$.flickrizr('#gallery', 'https://www.flickr.com/photos/library_of_congress/albums/72157608675448396', {
 *		language: 'en-US'
 *	});
 *
 * @example :
 *	$('#gallery').flickrizr('72157608675448396', {
 *		language: 'en-US'
 *	});
 */
;"use strict";(function(f){var e;var d;var c;var b;var a=0;var g=0;e=f.flickrizr=function(j,i,k){c=f.extend({},e.defaults,k);c.prevIcon=c.basePath+"/assets/images/prev.png";c.nextIcon=c.basePath+"/assets/images/next.png";d=f(j);var l=/(\d+){17,}/g;var h=l.exec(i);console.log(h);if(h==null){d.html(e.messages[c.language].notFound)}else{d.html(f("<p>",{"class":"flickrizr-loading"}));e.updateLoading();f.getJSON(c.basePath+"/flickrizr.php",{set:h[0]}).done(function(m){d.html(e.generateHtml(m))})}return this};e.updateLoading=function(){var h=e.messages[c.language].loading;f(".flickrizr-loading").html(h)};e.generateHtml=function(m){a=0;b=m.size;var q=f('<div class="flickrizr-gallery">');var h=f('<div class="flickrizr-thumbs-wrapper">');h.append(f("<a>",{href:"javascript:void(0)","class":"flickrizr-thumb-nav-prev","data-jcarousel-control":true,"data-target":"-=1"}).html('<img src="'+c.prevIcon+'">'));var j=f("<div>",{"class":"flickrizr-thumbs","data-jcarousel":true,"data-wrap":"last"});var s=f("<ul>");g=m.size;for(var n=0;n<g;n++){var r=m.photos[n];var p=f("<li>");f.get(r.srcbig);var l=f("<a>",{href:r.url,"data-caption":(n+1)+" / "+g+": "+r.title,"data-medium":r.src,"data-big":r.srcbig,"data-position":n}).click(e.clickPicture);l.append(f("<img>",{src:r.thumb,alt:r.title,title:r.title}));p.append(l).appendTo(s)}j.append(s);h.append(j).append(f("<a>",{href:"javascript:void(0)","class":"flickrizr-thumb-nav-next","data-jcarousel-control":true,"data-target":"+=1"}).html('<img src="'+c.nextIcon+'">'));q.append(h);var o=f("<div>",{"class":"flickrizr-full-image"}).html('<div class="image"/>');q.append(o);var k=f("<div>",{"class":"flickrizr-caption"}).hide();q.append(k);o.append(f("<a>",{href:"javascript:void(0)","class":"flickrizr-nav-prev"}).click(function(){var i=parseInt(f(".flickrizr-full-image .image img").data("position")-1);if(i<0){i=0}f(".flickrizr-thumbs a").eq(i).trigger("click")}).html('<img src="'+c.prevIcon+'">')).append(f("<a>",{href:"javascript:void(0)","class":"flickrizr-nav-next"}).click(function(){var i=parseInt(f(".flickrizr-full-image .image img").data("position")+1);if(i>b){i=b}f(".flickrizr-thumbs a").eq(i).trigger("click")}).html('<img src="'+c.nextIcon+'">'));d.html(q);f("[data-jcarousel]").each(function(){var i=f(this);i.jcarousel(i.data())});f.each(f("[data-jcarousel-control]"),function(t,v){var u=f(v);u.jcarouselControl(u.data())});f(".flickrizr-thumbs a").eq(0).trigger("click")};e.clickPicture=function(j,k){j.preventDefault();var i=k||f(this);var h=f("<a>",{target:"blank",href:i.attr("href")});f("<img>",{src:i.data("big"),alt:i.data("caption"),title:i.data("caption"),"data-position":i.data("position")}).appendTo(h);f(".flickrizr-full-image .image").addClass("flickrizr-loading-black").html(h);f(".flickrizr-caption").toggle((f(this).data("caption")!="")).html(f(this).data("caption"))};e.defaults={basePath:"assets/js/flickrizr",language:"pt-BR",preload:true,showList:true};e.messages={"pt-BR":{notFound:"Galeria n\u00E3o encontrada.",loading:"Carregando galeria..."},"en-US":{notFound:"Gallery not found.",loading:"Loading photoset..."}};f.fn.flickrizr=function(h,i){f.flickrizr(this,h,i)}})(jQuery);